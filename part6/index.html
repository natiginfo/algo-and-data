<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 3.5.0"/><link rel="icon" href="/algo-and-data/favicon-32x32.png?v=dd253edc615d56282c5dcdfb24ca4261" type="image/png"/><link rel="manifest" href="/algo-and-data/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#a2466c"/><link rel="apple-touch-icon" sizes="48x48" href="/algo-and-data/icons/icon-48x48.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="72x72" href="/algo-and-data/icons/icon-72x72.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="96x96" href="/algo-and-data/icons/icon-96x96.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="144x144" href="/algo-and-data/icons/icon-144x144.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="192x192" href="/algo-and-data/icons/icon-192x192.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="256x256" href="/algo-and-data/icons/icon-256x256.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="384x384" href="/algo-and-data/icons/icon-384x384.png?v=dd253edc615d56282c5dcdfb24ca4261"/><link rel="apple-touch-icon" sizes="512x512" href="/algo-and-data/icons/icon-512x512.png?v=dd253edc615d56282c5dcdfb24ca4261"/><title data-react-helmet="true">Shortest paths</title><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link as="script" rel="preload" href="/algo-and-data/webpack-runtime-c0de96a266562e64840a.js"/><link as="script" rel="preload" href="/algo-and-data/framework-c49643cdc45c711b03f2.js"/><link as="script" rel="preload" href="/algo-and-data/app-35fa2ba5be107b8d8660.js"/><link as="script" rel="preload" href="/algo-and-data/commons-8f6820786aaec88a1b86.js"/><link as="script" rel="preload" href="/algo-and-data/component---src-templates-docs-js-ff24809891b3e127036d.js"/><link as="fetch" rel="preload" href="/algo-and-data/page-data/part6/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/algo-and-data/page-data/sq/d/1885717130.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/algo-and-data/page-data/sq/d/1950529541.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/algo-and-data/page-data/sq/d/2744905544.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/algo-and-data/page-data/sq/d/3020054368.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/algo-and-data/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.documentElement.classList.add('theme-ui-' + mode);
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion="css-global xghfnh">html{--theme-ui-colors-header:#fff;--theme-ui-colors-text:#000;--theme-ui-colors-primary:#E10E49;--theme-ui-colors-secondary:#c70d3a;--theme-ui-colors-highlight:#efeffe;--theme-ui-colors-exercise:#3333ee;--theme-ui-colors-sidebar:#f8f5f1;--theme-ui-colors-background:#fff;--theme-ui-colors-borderColor:rgba(0, 0, 0, 0.15);--theme-ui-colors-footer:#E10E49;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}</style><style data-emotion="css-global dcnl1w">*{box-sizing:border-box;}html{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.5;font-weight:400;}html h1{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:36px;}html h1::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h2{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:28px;}html h2::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h3{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:24px;}html h3::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h4{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:16px;}html h4::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h5{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:14px;}html h5::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}html h6{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:12px;}html h6::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}body{margin:0;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css ylfa0c">.css-ylfa0c{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.5;font-weight:400;}.css-ylfa0c h1{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:36px;}.css-ylfa0c h1::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h2{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:28px;}.css-ylfa0c h2::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h3{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:24px;}.css-ylfa0c h3::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h4{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:16px;}.css-ylfa0c h4::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h5{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:14px;}.css-ylfa0c h5::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}.css-ylfa0c h6{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:12px;}.css-ylfa0c h6::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}</style><div class="css-ylfa0c"><style data-emotion="css-global 5u4lmb">:root{--ease-in-quad:cubic-bezier(0.55, 0.085, 0.68, 0.53);--ease-in-quart:cubic-bezier(0.895, 0.03, 0.685, 0.22);--ease-out-quad:cubic-bezier(0.25, 0.46, 0.45, 0.94);--ease-out-quart:cubic-bezier(0.165, 0.84, 0.44, 1);--ease-in-out-quad:cubic-bezier(0.455, 0.03, 0.515, 0.955);--ease-in-out-quart:cubic-bezier(0.77, 0, 0.175, 1);}*,*:before,*:after{box-sizing:inherit;}:root{box-sizing:border-box;}body{margin:0;}.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;}</style><style data-emotion="css dl5fst">.css-dl5fst{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:1rem 1rem;z-index:5;background:var(--theme-ui-colors-header);-webkit-transition:all 0.25s var(--ease-in-out-quad);transition:all 0.25s var(--ease-in-out-quad);border-bottom:1px solid var(--theme-ui-colors-borderColor);}@media (min-width: 38.73684210526316em){.css-dl5fst{position:fixed;top:0;left:0;right:0;padding:1rem 1.2rem;-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);}}</style><header class="css-dl5fst eneaom32"><style data-emotion="css 13apmpg">.css-13apmpg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0;text-alight:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-13apmpg eneaom30"><style data-emotion="css 1gp7fjh">.css-1gp7fjh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-right:1rem;}@media (min-width: 38.73684210526316em){.css-1gp7fjh{display:none;}}</style><div class="css-1gp7fjh eneaom31"><style data-emotion="css i05np8">.css-i05np8{padding:0;background:none;border:none;color:var(--theme-ui-colors-text);cursor:pointer;font-size:0.8rem;}.css-i05np8:hover{color:var(--theme-ui-colors-primary);}</style><button type="button" aria-label="Open Navigation" title="Open Navigation" class="css-i05np8 e1onh9ai0"><style data-emotion="css z2vy6x">.css-z2vy6x{display:inline-block;width:30px;height:30px;}</style><span size="30" class="css-z2vy6x e1jw6cnh0"><style data-emotion="css 17rqqes">.css-17rqqes{fill:var(--theme-ui-colors-text);-webkit-transition:all 0.2s ease-out;transition:all 0.2s ease-out;}.css-17rqqes:hover,.css-17rqqes:focus{fill:var(--theme-ui-colors-primary);}</style><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="css-17rqqes e15jrc190"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></span></button></div><style data-emotion="css 13bl6n6">.css-13bl6n6{width:10rem;}.css-13bl6n6 p{margin:0;font-size:1.6rem;}</style><div class="css-13bl6n6 ewwdldv1"><style data-emotion="css o97vb3">.css-o97vb3{display:block;-webkit-text-decoration:none;text-decoration:none;color:var(--theme-ui-colors-text);-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;}.css-o97vb3:hover,.css-o97vb3:focus{color:var(--theme-ui-colors-primary);}</style><a class="css-o97vb3 ewwdldv0" href="/algo-and-data/"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:2641px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;1219&#x27; width=&#x27;2641&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/avif" data-srcset="/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/9469b/Centria-tunnus-RGB-FI-marginaalilla.avif 660w,/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/bb0ac/Centria-tunnus-RGB-FI-marginaalilla.avif 1321w,/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/7558a/Centria-tunnus-RGB-FI-marginaalilla.avif 2641w" sizes="(min-width: 2641px) 2641px, 100vw"/><source type="image/webp" data-srcset="/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/9ecf4/Centria-tunnus-RGB-FI-marginaalilla.webp 660w,/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/316a0/Centria-tunnus-RGB-FI-marginaalilla.webp 1321w,/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/93023/Centria-tunnus-RGB-FI-marginaalilla.webp 2641w" sizes="(min-width: 2641px) 2641px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2641px) 2641px, 100vw" decoding="async" loading="lazy" data-src="/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/0cf45/Centria-tunnus-RGB-FI-marginaalilla.jpg" data-srcset="/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/39f99/Centria-tunnus-RGB-FI-marginaalilla.jpg 660w,/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/844fa/Centria-tunnus-RGB-FI-marginaalilla.jpg 1321w,/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/0cf45/Centria-tunnus-RGB-FI-marginaalilla.jpg 2641w" alt="Centria banner"/></picture><noscript><picture><source type="image/avif" srcSet="/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/9469b/Centria-tunnus-RGB-FI-marginaalilla.avif 660w,/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/bb0ac/Centria-tunnus-RGB-FI-marginaalilla.avif 1321w,/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/7558a/Centria-tunnus-RGB-FI-marginaalilla.avif 2641w" sizes="(min-width: 2641px) 2641px, 100vw"/><source type="image/webp" srcSet="/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/9ecf4/Centria-tunnus-RGB-FI-marginaalilla.webp 660w,/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/316a0/Centria-tunnus-RGB-FI-marginaalilla.webp 1321w,/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/93023/Centria-tunnus-RGB-FI-marginaalilla.webp 2641w" sizes="(min-width: 2641px) 2641px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 2641px) 2641px, 100vw" decoding="async" loading="lazy" src="/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/0cf45/Centria-tunnus-RGB-FI-marginaalilla.jpg" srcSet="/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/39f99/Centria-tunnus-RGB-FI-marginaalilla.jpg 660w,/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/844fa/Centria-tunnus-RGB-FI-marginaalilla.jpg 1321w,/algo-and-data/static/7c5268770640a4d118046a43d1aa9fe2/0cf45/Centria-tunnus-RGB-FI-marginaalilla.jpg 2641w" alt="Centria banner"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></a></div></div></header><style data-emotion="css pn4xbf">.css-pn4xbf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:100vh;position:relative;overflow-x:hidden;background:var(--theme-ui-colors-background);-webkit-transition:background 0.25s var(--ease-in-out-quad);transition:background 0.25s var(--ease-in-out-quad);}</style><div class="css-pn4xbf e1krdi8y3"><style data-emotion="css 1oex1pb">.css-1oex1pb{margin-left:-19rem;-webkit-flex:0 0 19rem;-ms-flex:0 0 19rem;flex:0 0 19rem;font-size:0.875rem;}@media (min-width: 38.73684210526316em){.css-1oex1pb{margin-left:0;}}</style><aside class="css-1oex1pb ednv8641"><style data-emotion="css 1wrooys">.css-1wrooys{position:fixed;top:0;bottom:0;overflow-x:hidden;overflow-y:auto;width:19rem;height:100%;padding:1rem 0;background:var(--theme-ui-colors-sidebar);-webkit-transition:0.25s var(--ease-in-out-quad);transition:0.25s var(--ease-in-out-quad);}@media (min-width: 38.73684210526316em){.css-1wrooys{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);padding:6.6rem 0 1rem;}}</style><nav class="css-1wrooys ednv8640"><style data-emotion="css pv1s1f">.css-pv1s1f{margin:0;padding:0;list-style:none;}</style><ul class="css-pv1s1f e1dzqqml0"><style data-emotion="css 1lbpo2j">.css-1lbpo2j{position:relative;display:block;padding:0;margin:0.2rem 0;width:100%;list-style:none;}</style><li class="css-1lbpo2j eo1v1f02"><style data-emotion="css 2kw81a">.css-2kw81a{margin:0.5rem 0 0.5rem 1.2rem;padding:0;list-style:none;}.css-2kw81a>li{margin:0;}</style><ul class="css-2kw81a eo1v1f00"><li class="css-1lbpo2j eo1v1f02"><style data-emotion="css zl329z">.css-zl329z{display:block;padding:0.5rem 1.8rem 0.5rem 1.2rem;width:100%;color:var(--theme-ui-colors-text);font-weight:600;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;}.css-zl329z:hover,.css-zl329z:focus,.css-zl329z.is-active{color:var(--theme-ui-colors-primary);}</style><a class="css-zl329z eo1v1f01" href="/algo-and-data/part1">Basic algorithms</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/algo-and-data/part2">Efficiency</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/algo-and-data/part3">Recursion and Sorting</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/algo-and-data/part4">List and Trees</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/algo-and-data/part5">Graphs</a></li><li class="css-1lbpo2j eo1v1f02"><a aria-current="page" class="css-zl329z eo1v1f01 is-active" href="/algo-and-data/part6">Shortest paths</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/algo-and-data/exercises">Exercises and Exam</a></li><li class="css-1lbpo2j eo1v1f02"><a class="css-zl329z eo1v1f01" href="/algo-and-data/tmc">TMC Instructions</a></li></ul></li></ul></nav></aside><style data-emotion="css 1a5xr11">.css-1a5xr11{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;min-width:20rem;padding-bottom:5rem;}</style><div class="css-1a5xr11 e1krdi8y2"><style data-emotion="css 1ni6xgg">.css-1ni6xgg{margin:auto;padding:2rem 1rem 2.5rem;-webkit-transition:0.25s var(--ease-in-out-quad);transition:0.25s var(--ease-in-out-quad);opacity:1;}@media (min-width: 38.73684210526316em){.css-1ni6xgg{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0);opacity:1;padding:7rem 3rem 3rem;max-width:50rem;}}</style><main class="css-1ni6xgg e1krdi8y1"><style data-emotion="css 1daj6ng">.css-1daj6ng{padding-top:0;margin-top:0;}.css-1daj6ng::before{display:none!important;}</style><h1 class="css-1daj6ng e137ubq00">Shortest paths</h1><style data-emotion="css 1up8dbe">.css-1up8dbe{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:36px;}.css-1up8dbe::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}</style><h1 id="shortest-paths-in-graphs" class="css-1up8dbe">Shortest paths in graphs</h1><style data-emotion="css zitybv">.css-zitybv{margin-top:32px;margin-bottom:32px;}</style><p class="css-zitybv">Many of the problems related to graphs are about finding the <em class="css-0">shortest path</em> from one node to another. For example, we could want to find out, what is the fastest route between two street addresses, or which is the cheapest way to fly from one city to another. In these and other applications it&#x27;s important to find the shortest path efficiently.</p><p class="css-zitybv">We have used <em class="css-0">breadth-first search (BFS)</em> to find the shortest paths. This is a good solution for finding the paths, whose amount of edges is the smallest. In this part, we concentrate on a more demanding situation, where the graph has been <em class="css-0">weighted</em> and we want to find the paths, where the sum of the weights is the smallest. This time we cannot use BFS but we need more advanced techniques.</p><p class="css-zitybv">There are several algorithms to finding shortest paths in a weighted graph, and they have different attributes. In this part we shall look into <em class="css-0">Bellman-Ford</em> and <em class="css-0">Dijkstra&#x27;s</em> algorithms, which search the the shortest path from given source-node to all the nodes in the graph. After these we will examine <em class="css-0">Floyd-Warshall</em> algorithm, which searches all the shortest paths between all the nodes in the graph.</p><p class="css-zitybv">The most common situation in graph problems is to find the shortest path from node <em class="css-0">a</em> to node <em class="css-0">b</em>. Finding a single shortest path usually requires that we find other shortest paths before it, as well. Thus we concentrate to the most common problem from the beginning, where we have chosen a node as the source-node and we want to define for <em class="css-0">each</em> node, how long is the shortest path from the source-node to that node, or what is the distance from the source.</p><p class="css-zitybv"><img src="https://github.com/centria/algo-and-data/raw/master/src/images/materials/weighted1.png" alt="Weighted graph 1" class="css-0"/><br/>
<!-- -->source: <style data-emotion="css 1b33xzc">.css-1b33xzc{color:var(--theme-ui-colors-primary);-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;}.css-1b33xzc:hover,.css-1b33xzc:focus{color:var(--theme-ui-colors-text);}</style><a href="https://github.com/pllk/tirakirja/raw/master/tirakirja.pdf" class="css-1b33xzc"><strong class="css-0">Tietorakenteet ja algoritmit</strong></a></p><p class="css-zitybv">In the picture above is an example of a graph, where the node <em class="css-0">1</em> is the chosen source node, and next to each node is marked the distance to them in red. For example, to node <em class="css-0">5</em> the distance is 9, since the shortest path from node <em class="css-0">1</em> to node <em class="css-0">5</em> is 1 <!-- -->→<!-- --> 3 <!-- -->→<!-- --> 5, whose distance is <em class="css-0">2 + 7 = 9</em>. We will use this graph as our example, when we examine the next two algorithms for searching the shorest paths.</p><h1 id="bellman-ford-algorithm" class="css-1up8dbe">Bellman-Ford algorithm</h1><p class="css-zitybv"><em class="css-0">The Bellman-Ford algorithm</em> searches the shortest paths from a given source-node to all the nodes in the graph. The algorithm forms an array, which describes for a node the distance from the source-node. The algorithm works in any graph, as long as there is no negative cycle, i.e. a cycle whose sum of weights is negative.</p><p class="css-zitybv">The Bellman-Ford maintains an <em class="css-0">approximation</em> of the distances of the nodes, so that in the beginning the distance to the source-node is <em class="css-0">0</em> and the distance to all the other nodes is <em class="css-0">infinite</em>. After this the algorithm starts to improve the distance by looking for edges in the graph, through which it could shorten the distance. With each step the algorithm searches an edge <em class="css-0">a <!-- -->→<!-- --> b</em>, with which we can get to node <em class="css-0">b</em> with a shorter distance from node <em class="css-0">a</em> than previously. When none of the estimates can be improved, the algorithm ends and all the distances correspond to the real shortest path distances.</p><p class="css-zitybv"><img src="https://github.com/centria/algo-and-data/raw/master/src/images/materials/weighted2.png" alt="Weighted graph 2" class="css-0"/><br/>
<!-- -->source: <a href="https://github.com/pllk/tirakirja/raw/master/tirakirja.pdf" class="css-1b33xzc"><strong class="css-0">Tietorakenteet ja algoritmit</strong></a></p><p class="css-zitybv">The picture above shows an example of Bellman-Ford in action, with the source-node of <em class="css-0">1</em>. Next to each node, the distance to them has been marked with red: In the beginning, the distance for node <em class="css-0">1</em> is <em class="css-0">0</em> and the distance to all the other nodes is <em class="css-0">infinity</em>. Each change of distance can be seen in the picture as a separate step. First, we improve the distance to node <em class="css-0">2</em> by going through the edge <em class="css-0">1 <!-- -->→<!-- --> 2</em>, and get the distance of 8. Then we improve the distance to node <em class="css-0">3</em> with edge <em class="css-0">1 <!-- -->→<!-- --> 3</em>, getting the new distance of 2. We continue similarly, until we cannot improve any distance and all the distances correspond with the shortest path distances.</p><p class="css-zitybv">Bellman-Ford is convenient to store as an <em class="css-0">edge list</em>, where we have stored the <em class="css-0">source</em> and <em class="css-0">target</em> nodes for all the edges, as well as weight. We will implement the algorithm so, that it consists of <em class="css-0">repetition of relaxations</em>, where each repetition goes through all the edges of the graph and tries to improve the distance approximation with them. We can implement the algorithm like so:</p><style data-emotion="css 14vuu3">.css-14vuu3{background-color:#282c34;color:#ffffff;font-family:"Operator Mono",monospace;font-size:0.9rem;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;border-radius:6px;padding:16px;margin-top:32px;margin-bottom:32px;}.css-14vuu3 .attr-name{color:#c5a5c5;}.css-14vuu3 .attr-value{color:#8dc891;}.css-14vuu3 .comment,.css-14vuu3 .block-comment,.css-14vuu3 .prolog,.css-14vuu3 .doctype,.css-14vuu3 .cdata,.css-14vuu3 .shebang{color:#999999;}.css-14vuu3 .property,.css-14vuu3 .number,.css-14vuu3 .function-name,.css-14vuu3 .constant,.css-14vuu3 .symbol,.css-14vuu3 .deleted{color:#5a9bcf;}.css-14vuu3 .boolean{color:#ff8b50;}.css-14vuu3 .tag{color:#fc929e;}.css-14vuu3 .string{color:#8dc891;}.css-14vuu3 .punctuation{color:#8dc891;}.css-14vuu3 .selector,.css-14vuu3 .char,.css-14vuu3 .builtin,.css-14vuu3 .inserted{color:#D8DEE9;}.css-14vuu3 .function{color:#79b6f2;}.css-14vuu3 .operator,.css-14vuu3 .entity,.css-14vuu3 .url,.css-14vuu3 .variable{color:#d7deea;}.css-14vuu3 .keyword{color:#c5a5c5;}.css-14vuu3 .at-rule,.css-14vuu3 .class-name{color:#FAC863;}.css-14vuu3 .important{font-weight:400;}.css-14vuu3 .bold{font-weight:700;}.css-14vuu3 .italic{font-style:italic;}.css-14vuu3 .namespace{opacity:0.7;}.css-14vuu3 .highlight{background-color:var(--theme-ui-colors-highlight);font-weight:700;}</style><style data-emotion="css 1itelf7">.css-1itelf7{background-color:#282c34;color:#ffffff;font-family:"Operator Mono",monospace;font-size:0.9rem;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;overflow:auto;border-radius:6px;padding:16px;margin-top:32px;margin-bottom:32px;}.css-1itelf7 .attr-name{color:#c5a5c5;}.css-1itelf7 .attr-value{color:#8dc891;}.css-1itelf7 .comment,.css-1itelf7 .block-comment,.css-1itelf7 .prolog,.css-1itelf7 .doctype,.css-1itelf7 .cdata,.css-1itelf7 .shebang{color:#999999;}.css-1itelf7 .property,.css-1itelf7 .number,.css-1itelf7 .function-name,.css-1itelf7 .constant,.css-1itelf7 .symbol,.css-1itelf7 .deleted{color:#5a9bcf;}.css-1itelf7 .boolean{color:#ff8b50;}.css-1itelf7 .tag{color:#fc929e;}.css-1itelf7 .string{color:#8dc891;}.css-1itelf7 .punctuation{color:#8dc891;}.css-1itelf7 .selector,.css-1itelf7 .char,.css-1itelf7 .builtin,.css-1itelf7 .inserted{color:#D8DEE9;}.css-1itelf7 .function{color:#79b6f2;}.css-1itelf7 .operator,.css-1itelf7 .entity,.css-1itelf7 .url,.css-1itelf7 .variable{color:#d7deea;}.css-1itelf7 .keyword{color:#c5a5c5;}.css-1itelf7 .at-rule,.css-1itelf7 .class-name{color:#FAC863;}.css-1itelf7 .important{font-weight:400;}.css-1itelf7 .bold{font-weight:700;}.css-1itelf7 .italic{font-style:italic;}.css-1itelf7 .namespace{opacity:0.7;}.css-1itelf7 .highlight{background-color:var(--theme-ui-colors-highlight);font-weight:700;}</style><pre class="language-console prism-code language-console css-1itelf7"><div class="token-line"><span class="token plain">while true</span></div><div class="token-line"><span class="token plain">  change = false</span></div><div class="token-line"><span class="token plain">  for edge in edges</span></div><div class="token-line"><span class="token plain">    current = distance[edge.end]</span></div><div class="token-line"><span class="token plain">    new = distance[edge.source]+edge.weight</span></div><div class="token-line"><span class="token plain">    if new &lt; current</span></div><div class="token-line"><span class="token plain">      distance[edge.end] = new</span></div><div class="token-line"><span class="token plain">      change = true</span></div><div class="token-line"><span class="token plain">  if not change</span></div><div class="token-line"><span class="token plain">    break</span></div></pre><p class="css-zitybv">With each repetition the algorithm goes through the edges of the graph and examines each edge, what is the current distance to the target node and what is the new distance, if we go to the node through the edge. If the new distance is smaller, we update that to be the distance of the node. In the variable <em class="css-0">change</em> we store the information of has something changed during the repetition, and if not, we end the algorithm.</p><style data-emotion="css vq3asz">.css-vq3asz{font-family:-apple-system,BlinkMacSystemFont,San Francisco,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Segoe UI,Arial,sans-serif;line-height:1.125;font-weight:700;margin-top:0;margin-bottom:16px;font-size:28px;}.css-vq3asz::before{content:" ";display:block;padding-top:30px;margin-bottom:40px;border-bottom:1px solid;border-bottom-color:var(--theme-ui-colors-borderColor);}</style><h2 id="analysing-the-algorithm" class="css-vq3asz">Analysing the algorithm</h2><p class="css-zitybv">We have described and implemented the Bellman-Ford algorithm, but how can we be sure, that it finds the shortest path, and how fast does it work? We have to make two observations to answer these questions.</p><p class="css-zitybv">Our first observation is, that if <em class="css-0">n1 <!-- -->→<!-- --> n2 <!-- -->→<!-- --> ... <!-- -->→<!-- --> nk</em> is the shortest path from node <em class="css-0">n1</em> to node <em class="css-0">nk</em>, also path <em class="css-0">n1 <!-- -->→<!-- --> n2</em> is the shortest path from <em class="css-0">n1</em> to <em class="css-0">n2</em>, and <em class="css-0">n1 <!-- -->→<!-- --> n2 <!-- -->→<!-- --> n3</em> is the shortest path from <em class="css-0">n1</em> to <em class="css-0">n3</em>, and so on. Thus the beginning of each shortest path is also the shortest path to the corresponding nodes. If this wasn&#x27;t true, we could improve our shortest path from node <em class="css-0">n1</em> to <em class="css-0">nk</em> by improving some beginning of the path, which would cause a contradiction.</p><p class="css-zitybv">Our second observation is, that in a graph of <em class="css-0">n</em> nodes, the shortest path to a node can include a maximum of <em class="css-0">n-1</em> edges, when we assume that there is no negative cycle in the graph. If the path would include <em class="css-0">n</em> or more edges, some node would be on the path several times. This is not possible, as there would be no reason to go through the same node multiple times, when we want to achieve the shortest path.</p><p class="css-zitybv">Let&#x27;s see what happens in the repetitions of the algorithm. After the first one, we have found the shortest paths with maximum of one edge. After the second one we have found the shortest paths with a maximum of two edges. This continues, until after <em class="css-0">n-1</em> repetitions we have found the shortest paths, with a maximum of <em class="css-0">n-1</em> edges. As any of the shortest edges cannot have more edges, we have gone through all the shortest paths. To execute our algorithm, we require a maximum of <em class="css-0">n-1</em> repetitions, which all go through the edges of the graph in time <em class="css-0">O(m)</em>. Thus the algorithm finds the shortest paths in time <em class="css-0">O(nm)</em>.</p><p class="css-zitybv"><img src="https://github.com/centria/algo-and-data/raw/master/src/images/materials/negative1.png" alt="Negative graph 1" class="css-0"/><br/>
<!-- -->source: <a href="https://github.com/pllk/tirakirja/raw/master/tirakirja.pdf" class="css-1b33xzc"><strong class="css-0">Tietorakenteet ja algoritmit</strong></a></p><p class="css-zitybv">What happens, if the graph has a negative cycle? In the picture above, we have a negative cycle <em class="css-0">2 <!-- -->→<!-- --> 4 <!-- -->→<!-- --> 5 <!-- -->→<!-- --> 2</em>, whose weight is <em class="css-0">-2</em>. In this situation the Bellman-Ford algorithm will continue forever, as we can shorten the paths going through the cycle infinately. The problem actually lies in the definition: a shortest path is not a reasonable statement, if the path includes a negative cycle. We can use Bellman-Ford to detect negative cycles in a graph: If a distance could be improved after <em class="css-0">n-1</em> repetitions, the graph has a negative cycle.</p><h1 id="dijkstras-algorithm" class="css-1up8dbe">Dijkstra&#x27;s algorithm</h1><p class="css-zitybv"><em class="css-0">Dijkstra&#x27;s algorithm</em> is an enhanced version of the Bellman-Ford, whose functionality relies on the assumption that there are no negative edges in the graph. Alike to Bellman-Ford, Dijkstra&#x27;s algorithm maintains approximation of distances from source-node to other nodes. The difference is how Dijkstra&#x27;s algorithm improves the distances.</p><p class="css-zitybv">In Dijkstra&#x27;s algorithm nodes are in two classes: visited and non-visited. In the beginning, all the nodes are non-visited. With each step the algorithm finds a node that has not been visited, and whose distance estimation is the smallest. Then the algorithm goes through all the edges originating from said node and tries to improve distances with them. After this node has been visited and the distance for it does not change, we have found out its final distance.</p><p class="css-zitybv"><img src="https://github.com/centria/algo-and-data/raw/master/src/images/materials/dijkstra1.png" alt="Dijkstra 1" class="css-0"/><br/>
<!-- -->source: <a href="https://github.com/pllk/tirakirja/raw/master/tirakirja.pdf" class="css-1b33xzc"><strong class="css-0">Tietorakenteet ja algoritmit</strong></a></p><p class="css-zitybv">In the example above we see an example of Dijkstra&#x27;s algorithm in action. The gray color of a node means it has been visited. At first we begin with node <em class="css-0">1</em>, as its distance of <em class="css-0">0</em> is the smallest. Now we have left nodes <em class="css-0">2</em>, <em class="css-0">3</em>, <em class="css-0">4</em> and <em class="css-0">5</em>, of which we choose node <em class="css-0">3</em>, as its distance of <em class="css-0">2</em> is the smallest. After this we choose to visit node <em class="css-0">2</em>, whose distance is <em class="css-0">6</em>. We continue this until we have visited all the nodes in the graph.</p><p class="css-zitybv">With Dijkstra&#x27;s algorithm we search <em class="css-0">n</em> times a non-visited node, whose distance approcimation is the smallest. As we want to have the algorithm as efficient as possible, we have to be able to find the nodes fast. Implementing Dijkstra&#x27;s algorithm is most convenient with an adjacency matrix or adjacency list.</p><pre class="language-console prism-code language-console css-1itelf7"><div class="token-line"><span class="token plain">Dijkstra(graph, source):</span></div><div class="token-line"><span class="token plain">  </span></div><div class="token-line"><span class="token plain">  for each node in graph</span></div><div class="token-line"><span class="token plain">    dist[node] = infinity   </span></div><div class="token-line"><span class="token plain">    previous[node] = undefined  </span></div><div class="token-line"><span class="token plain">  </span></div><div class="token-line"><span class="token plain">  dist[source] = 0</span></div><div class="token-line"><span class="token plain">  </span></div><div class="token-line"><span class="token plain">  Q = the set of all nodes in graph</span></div><div class="token-line"><span class="token plain">  </span></div><div class="token-line"><span class="token plain">  while Q is not empty</span></div><div class="token-line"><span class="token plain">    n = node in Q with smallest dist[]</span></div><div class="token-line"><span class="token plain">    remove n from Q</span></div><div class="token-line"><span class="token plain">    </span></div><div class="token-line"><span class="token plain">    for each neighbor of n</span></div><div class="token-line"><span class="token plain">      alt = dist[n] + dist_between(n, neighbor)</span></div><div class="token-line"><span class="token plain">      if alt &lt; dist[neighbor]   </span></div><div class="token-line"><span class="token plain">        dist[neighbor] = alt</span></div><div class="token-line"><span class="token plain">        previous[neighbor] = n</span></div><div class="token-line"><span class="token plain">    </span></div><div class="token-line"><span class="token plain">  return previous[]</span></div></pre><p class="css-zitybv">In our algorithm, we initialize all the distances to be infinite, and have the previous node of the known shortest path to be undefined (or <em class="css-0">null</em>). Then we create a <em class="css-0">set Q</em>, where all the nodes are put. We go through our <em class="css-0">Q</em> until it is empty, with each repetition removing the nodes with shortest possible paths. In the for-each-loop we visit the neighbors of <em class="css-0">n</em>. If the <em class="css-0">alt</em> is less than the distance of the neighbor, the distance for said neighbor is updated. This is called <em class="css-0">relaxation</em>. Continue going through the loops until <em class="css-0">Q</em> is empty.</p><h2 id="analysing-the-algorithm-1" class="css-vq3asz">Analysing the algorithm</h2><p class="css-zitybv">Dijkstra&#x27;s algorithm is a <em class="css-0">greedy algorithm</em>, as at each step it searches non-visited node whose distance is smallest, after which the distance of said node does not change. How can we be sure, that we have found the correct distance? </p><p class="css-zitybv">We can think of this matter from another perspective: If the distance could be still improved, the graph should have at least one another non-visited node, via which we could form a shorter path. As we know that all the other paths available are greater or equal than the one we are visiting and the distance for those nodes cannot become shorter, as there are no negative edges in the graph. For this reason we can safely choose to visit the node with the smallest distance and fix its distance.</p><p class="css-zitybv">So the Dijkstra algorithm works correctly, if there are no negative edges in the graph, but how fast is it? First the algorithm goes through the edges and nodes of the graph, taking <em class="css-0">O(m + n)</em> time. The main part of the algorithm goes through the set of all the nodes in <em class="css-0">O(n)</em>, and for each node <em class="css-0">n</em> a maximum of <em class="css-0">O(m)</em> edges, creating a time complexity of <em class="css-0">O(m^2)</em>. As we know, this is not very fast. If we use an adjacency list as our data structure rather than an array, we can optimize our solution up to <em class="css-0">O(n + m log n)</em>.</p><p class="css-zitybv">There is another way to do create the algorithm, and that is with a <em class="css-0">priority queue</em> (also known as <em class="css-0">heap</em>). Unfortunately, that has not been implemented in dotnet 5.0. </p><style data-emotion="css u6bwnn">.css-u6bwnn{box-sizing:border-box;margin-top:2rem;min-width:0;padding:16px;padding-left:12px;border-left-width:4px;border-left-style:solid;border-left-color:var(--theme-ui-colors-primary);border-radius:4px;background-color:var(--theme-ui-colors-highlight);}</style><div class="css-u6bwnn e1fnhg2h2"><style data-emotion="css x2hccj">.css-x2hccj{font-size:1.2rem;color:var(--theme-ui-colors-primary);margin-bottom:1rem;}</style><div class="css-x2hccj e1fnhg2h1">Note!</div>Priority queue or heap is in dotnet 6.0 but not in time for this course, as the course exercises still use dotnet 5.0.</div><p class="css-zitybv">Let&#x27;s look at that as well:</p><pre class="language-console prism-code language-console css-1itelf7"><div class="token-line"><span class="token plain">heap.push((0,source))</span></div><div class="token-line"><span class="token plain">while not heap.empty()</span></div><div class="token-line"><span class="token plain">  node = heap.pop()[1]</span></div><div class="token-line"><span class="token plain">  if visited[node]</span></div><div class="token-line"><span class="token plain">    continue</span></div><div class="token-line"><span class="token plain">  visited[node] = true</span></div><div class="token-line"><span class="token plain">  for edge in graph[node]</span></div><div class="token-line"><span class="token plain">    current = distance[edge.end]</span></div><div class="token-line"><span class="token plain">    new = distance[node]+edge.weight</span></div><div class="token-line"><span class="token plain">    if new &lt; current</span></div><div class="token-line"><span class="token plain">      distance[edge.end] = new</span></div><div class="token-line"><span class="token plain">      heap.push((new,edge.end))</span></div></pre><div class="css-u6bwnn e1fnhg2h2"><div class="css-x2hccj e1fnhg2h1">Note!</div>In the heap there can be multiple distances for a node in the heap, as we add a new node to the heap each time the distance improves. We will visit each node only once, as every time we get a new node from the heap for visiting, we first make sure that we have not visited said node earlier.</div><p class="css-zitybv">This implementation first goes through all the nodes and edges in time <em class="css-0">O(n+m)</em>. The heap requires operations, and at worst case for each edge we have to add another element to the heap, which takes <em class="css-0">O(m log m)</em>. On the other hand, we will eventually remove all the nodes from the heap, taking also <em class="css-0">O(m log m)</em>. Thus the complete time complexity for this implementation is <em class="css-0">O(n + m log m)</em>. We can clean this up a bit, since we can assume there are no two edges with the same start and end nodes are the same, resulting in <em class="css-0">O(n + m log n)</em>.</p><p class="css-zitybv">What happens, if the graph does have a negative edge? Then the Dijkstra&#x27;s algorithm doesn&#x27;t necessarily work correctly. In the example below, the greedy algorithm takes the upper path and decides that shortest distance from <em class="css-0">1</em> to <em class="css-0">5</em> is <em class="css-0">8</em>. However, the actually shortest distance would be the path below, whose distance is only <em class="css-0">6</em>.</p><p class="css-zitybv"><img src="https://github.com/centria/algo-and-data/raw/master/src/images/materials/negative2.png" alt="Negative graph 2" class="css-0"/><br/>
<!-- -->source: <a href="https://github.com/pllk/tirakirja/raw/master/tirakirja.pdf" class="css-1b33xzc"><strong class="css-0">Tietorakenteet ja algoritmit</strong></a></p><h2 id="example-trip-planner" class="css-vq3asz">Example: Trip planner</h2><p class="css-zitybv">Now we have all the information required to create a <em class="css-0">trip planner</em>, or a system, with which we can find different transportation routes in a city. We can model the city as a graph, whose nodes are locations in the city and the edges are possible connections between the locations. The trip planner should give the <em class="css-0">fastest</em> route from location <em class="css-0">a</em> to location <em class="css-0">b</em>.</p><p class="css-zitybv">Creating a trip planner has one extra challenge: transportation have timetables, which limit their use. For example a bus could move every 10 minutes. We have to take our arrival times into account when planning our trips. We can achieve this by saving the edges of the graph in form &quot;<em class="css-0">the trip begins at time</em> x <em class="css-0">and ends at time</em> y&quot;.</p><p class="css-zitybv">As all the trips take a positive amount of time, we can search the routes with Dijkstra&#x27;s algorithm. We will implement the algorithm so, that to each location we define the <em class="css-0">earliest</em> time, when we can get to a certain location. In the beginning we know, that we are at our starting position when we begin our trip. Then we visit another location, go through the connections starting from there, into which we can get to by keeping an optimal timetable. We can make our search significantly more efficient if we only take into consideration from each bus line only the first start, which we can make. This is justified, as in no situation could it be a better idea to wait for the later start.</p><p class="css-zitybv"><img src="https://github.com/centria/algo-and-data/raw/master/src/images/materials/trip1.png" alt="Trip planner 1" class="css-0"/><br/>
<!-- -->source: <a href="https://github.com/pllk/tirakirja/raw/master/tirakirja.pdf" class="css-1b33xzc"><strong class="css-0">Tietorakenteet ja algoritmit</strong></a></p><p class="css-zitybv">The picture above shows an example, where we want to move from location <em class="css-0">1</em> to location <em class="css-0">3</em>, and we begin our trip at <em class="css-0">13:15</em>. From <em class="css-0">1</em> to <em class="css-0">2</em> there is a connection every 10 minutes, whose duration is 7 minutes, and from <em class="css-0">1</em> to <em class="css-0">3</em> there is a connection every 30 minutes, whose duration is 10 minutes. Thus we can get to location <em class="css-0">2</em> at <em class="css-0">13.27</em> and to location 3 at <em class="css-0">13:40</em>.</p><p class="css-zitybv">Then, from <em class="css-0">2</em> goes another connection to <em class="css-0">3</em> every 5 minutes, with duration of <em class="css-0">2</em> minutes. With this we can get to location <em class="css-0">3</em> at <em class="css-0">13:32</em>, so the fastest route goes through location <em class="css-0">2</em>.</p><p class="css-zitybv">In reality, this could be enhanced in multiple ways. For example when we find any route to our end-point of the route, we could ignore the other locations, where we will reach later than to that end-point.</p><div class="css-u6bwnn e1fnhg2h2"><div class="css-x2hccj e1fnhg2h1">Note!</div>In the example we take into consideration the average waiting time. So for example, if the buses leave every 10 minutes, the average waiting time is 5 minutes.</div><h1 id="floyd-warshall-algorithm" class="css-1up8dbe">Floyd-Warshall algorithm</h1><p class="css-zitybv">Let&#x27;s next look into a problem, where we want find the shortest paths <em class="css-0">from all</em> nodes <em class="css-0">into all</em> nodes. One way to solve this would be to run Bellman-Ford or Dijkstra&#x27;s algorithm for each node of the graph. We can however solve this more directly by searching all the paths <em class="css-0">simultaneosly</em> with the <em class="css-0">Floyd-Warshall</em> algorithm.</p><p class="css-zitybv">The <em class="css-0">Floyd-Warshall algorithm</em> forms an <em class="css-0">n</em> sized <em class="css-0">distance matrix</em>, where at row <em class="css-0">a</em> column <em class="css-0">b</em> is the shortest path distance from the node <em class="css-0">a</em> to node <em class="css-0">b</em>. The algorithm first initializes the matrix so, that it only contains the distances which can be traveled using a single edge, and all the others are marked with infinity. Then the algorithm takes <em class="css-0">n</em> repetitions, numbered <em class="css-0">1, 2, ..., n</em>. At a repetition <em class="css-0">k</em> the algorithm searches for paths, which can go through the node <em class="css-0">k</em> (called <em class="css-0">intermediate node</em>) and possibly other nodes from <em class="css-0">1, 2, ..., k-1</em> to be intermediate nodes. If such a path improves the distance, we update the new values to the matrix. In the end each node has been an intermediate node, and we have found all the shortest paths.</p><p class="css-zitybv"><img src="https://github.com/centria/algo-and-data/raw/master/src/images/materials/floyd-warshall.png" alt="Floyd-Warshall" class="css-0"/><br/>
<!-- -->source: <a href="https://github.com/pllk/tirakirja/raw/master/tirakirja.pdf" class="css-1b33xzc"><strong class="css-0">Tietorakenteet ja algoritmit</strong></a></p><p class="css-zitybv">In the picture above, we have an example of Floyd-Warshall in action. On the first repetition we search for paths, where <em class="css-0">1</em> would be gone through. There are no such paths, as <em class="css-0">1</em> cannot be reached from any other node, so the matrix does not change. On repetition <em class="css-0">2</em> we notice, that we can reach node <em class="css-0">4</em> from <em class="css-0">1</em> by using <em class="css-0">2</em> as an intermediate node, giving us the distance of <em class="css-0">8</em>. Similarly we can get through <em class="css-0">2</em> to node <em class="css-0">4</em> from node <em class="css-0">3</em>, getting the distance of <em class="css-0">5</em>. We continue this way, until after repetition <em class="css-0">4</em> we have reached all the distances and the matrix is complete.</p><p class="css-zitybv">The nice side of Floyd-Marshall algorithm is, that it is very easy to implement. We only need to create three inner for-loops, which create the updates of the matrix. For the following example, the variable <em class="css-0">k</em> determines which repetition we&#x27;re at, i.e. which node is the intermediate node. With each repetition we go through all the node pairs <em class="css-0">(i,j)</em> and try to improve the distance between them by going through the node <em class="css-0">k</em>.</p><pre class="language-console prism-code language-console css-1itelf7"><div class="token-line"><span class="token plain">for k = 1 to n</span></div><div class="token-line"><span class="token plain">  for i = 1 to n</span></div><div class="token-line"><span class="token plain">    for j = 1 to n</span></div><div class="token-line"><span class="token plain">      distance[i,j] = min(distance[i,j], distance[i,k]+distance[k,j])</span></div></pre><p class="css-zitybv">The time complexity is clearly <em class="css-0">O(n^3)</em>, as it comprises of three for-loops inside one another.</p><h2 id="analysing-the-algorithm-2" class="css-vq3asz">Analysing the algorithm</h2><p class="css-zitybv">Why does the Floyd-Marshall work? We can understand the algorithm by looking at it &quot;in reverse&quot; recursively. When the graph has a shortest path from node
<em class="css-0">a</em> to node <em class="css-0">b</em>, what kind can this path be?</p><p class="css-zitybv">One possibility is, that the path is only an edge from node <em class="css-0">a</em> to node <em class="css-0">b</em>. Thus the distance has been marked to the matrix in the beginning. In other cases the the path have one or more nodes to go through. Let&#x27;s assume <em class="css-0">x</em> is a node to go through, whose mark is the largest. We now have two subtasks: We first have to go from node <em class="css-0">a</em> to node <em class="css-0">x</em> and then from node <em class="css-0">x</em> to node <em class="css-0">b</em> so, that on both sides the mark of the node to go through is smaller than <em class="css-0">x</em>. We can handle this recursively.</p><p class="css-zitybv">Floyd-Warshall algorithm forms paths in every step, where can be nodes <em class="css-0">1,2,...,i</em>. When we want to find the shortest path between <em class="css-0">a</em> and <em class="css-0">b</em>, we have two options: If the node <em class="css-0">i</em> can be gone through, we combine the shortest path from <em class="css-0">a to i</em> and the shortest path from <em class="css-0">i to b</em>. If <em class="css-0">i</em> cannot be gone through, we have handled that path already earlier. At the end of the algorithm, nodes <em class="css-0">1,2,...,n</em> can be gone through, so any node of the graph can be a intermediate node.</p><h1 id="comparing-the-algorithms" class="css-1up8dbe">Comparing the algorithms</h1><p class="css-zitybv">We have now gone through multiple algorithms for finding shortest paths and we can form a general picture of the subject. Here&#x27;s a recap of our algorithms, their efficiency and properties:</p><style data-emotion="css 1j9hpr8">.css-1j9hpr8{width:100%;border-collapse:separate;border-spacing:0;}</style><table class="css-1j9hpr8"><thead><tr class="css-0"><style data-emotion="css 9wek0z">.css-9wek0z{text-align:left;border-bottom-style:solid;}</style><th class="css-9wek0z">Algorithm</th><th class="css-9wek0z">Time complexity</th><th class="css-9wek0z">Properties</th></tr></thead><tbody><tr class="css-0"><td class="css-9wek0z">Breadth-first search</td><td class="css-9wek0z">O(n+m)</td><td class="css-9wek0z">No weighted graphs</td></tr><tr class="css-0"><td class="css-9wek0z">Bellman-Ford</td><td class="css-9wek0z">O(nm)</td><td class="css-9wek0z"></td></tr><tr class="css-0"><td class="css-9wek0z">Dijkstra&#x27;s</td><td class="css-9wek0z">O(n + m log n) or O(m^2)</td><td class="css-9wek0z">No negative edges</td></tr><tr class="css-0"><td class="css-9wek0z">Floyd-Warshall</td><td class="css-9wek0z">O(n^3)</td><td class="css-9wek0z">Finds all paths</td></tr></tbody></table><p class="css-zitybv">In practice, BFS and Dijkstra&#x27;s algorithms are most commonly used algorithms: if the edges do not have weights, use BFS, otherwise Dijkstra&#x27;s algorithm. The limitation for Dijkstra&#x27;s algorithm is that the graph cannot have negative edges, but this limitation usually does not matter in practical probles, as usually the weights of the edges cannot be negative. For example, obviously the length of a road cannot be negative, nor can the timetable of a bus. If a graph must have negative arches, then we can use the Bellman-Ford.</p><p class="css-zitybv">How does Floyd-Warshall compare to other algorithms, then? This depends if the graph is <em class="css-0">dense</em> or <em class="css-0">sparse</em>. In a sparse graph there are few edges and <em class="css-0">m ~ n</em>, where as in a dense graph there are many edges and <em class="css-0">m ~ n^2</em>. Floyd-Warshall is at its best with a dense graph, as its time complexity is not dependant on the amount of edges. For example, if we search all the shortest paths by running Dijkstra&#x27;s algorithm <em class="css-0">n</em> times, in a sparse graph it will take <em class="css-0">O(n^2 log n)</em>, but in a dense graph it will be already <em class="css-0">O(n^3 log n)</em>. In other words, with a sparse graph Dijkstra&#x27;s is faster than Floyd-Warshall, but in a dense graph it is worse. On the other hand, the constants of Floyd-Warshall are very small due to its simple structure, and thus work surprisingly fast in practice.</p><div class="css-u6bwnn e1fnhg2h2"><div class="css-x2hccj e1fnhg2h1">Note!</div>Even though in the material we use pseudocode to show functionality of certain algorithms, the exercises should be done with C#.</div><h1 id="exercises" class="css-1up8dbe">Exercises</h1><style data-emotion="css kelymf">.css-kelymf{box-sizing:border-box;margin-top:2rem;min-width:0;padding:16px;padding-left:12px;border-left-width:4px;border-left-style:solid;border-left-color:var(--theme-ui-colors-exercise);border-radius:4px;background-color:var(--theme-ui-colors-highlight);}</style><div class="css-kelymf e1fnhg2h4"><style data-emotion="css a9243c">.css-a9243c{font-size:1.5rem;color:var(--theme-ui-colors-exercise);margin-bottom:1rem;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:var(--theme-ui-colors-borderColor);}</style><div class="css-a9243c e1fnhg2h3">001 Bellman-Ford</div><p class="css-zitybv">In a Bitworld there are <em class="css-0">n</em> cities, numbered <em class="css-0">1,2,...,n</em>. There are two-way streets between those cities, with certain lengths. Your task is to find out the <em class="css-0">shortest distance</em> between cities <em class="css-0">x</em> and <em class="css-0">y</em>, using <strong class="css-0">Bellman-Ford</strong>.</p><p class="css-zitybv">You are given the classes <strong class="css-0">Edge</strong> and <strong class="css-0">BellmanFord</strong>.</p><p class="css-zitybv">Fill in the class <strong class="css-0">BellmanFord</strong> with following methods:</p><ul class="css-0"><li class="css-0">constructor <strong class="css-0">BellmanFord(int n)</strong>, the amount of cities is given to the constructor</li><li class="css-0"><strong class="css-0">void AddRoad(int a, int b, int d)</strong>: Adds a road between cities a and b, with the distance d</li><li class="css-0"><strong class="css-0">int Calculate(int x, int y)</strong> returns the shortest distance from city x to city y (or -1, if there is no connection).</li></ul><p class="css-zitybv">Example code:</p><pre class="language-cpp prism-code language-cpp css-1itelf7"><div class="token-line"><span class="token plain">BellmanFord bf1 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token function">BellmanFord</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">bf1</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">bf1</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">bf1</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">bf1</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">bf1</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">Console</span><span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token plain">bf1</span><span class="token punctuation">.</span><span class="token function">Calculate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 12</span><span class="token plain"></span></div><div class="token-line"><style data-emotion="css 13aqjzy">.css-13aqjzy{display:inline-block;}</style><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">BellmanFord bf2 </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token function">BellmanFord</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">bf2</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">bf2</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">bf2</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">bf2</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">bf2</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">bf2</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">Console</span><span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token plain">bf2</span><span class="token punctuation">.</span><span class="token function">Calculate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// -1</span></div></pre><div><style data-emotion="css hr8tuu">.css-hr8tuu{margin:0px!important;color:var(--theme-ui-colors-exercise);}.css-hr8tuu:hover,.css-hr8tuu:focus,.css-hr8tuu.is-active{color:var(--theme-ui-colors-primary);}</style><h4 class="css-hr8tuu e1fnhg2h0">Submission Instructions</h4></div><div><h4 class="css-hr8tuu e1fnhg2h0">How to see the solution</h4></div></div><div class="css-kelymf e1fnhg2h4"><div class="css-a9243c e1fnhg2h3">002 Dijkstra</div><p class="css-zitybv">In a Bitworld there are <em class="css-0">n</em> cities, numbered <em class="css-0">1,2,...,n</em>. There are two-way streets between those cities, with certain lengths. Your task is to find out the <em class="css-0">shortest distance</em> between cities <em class="css-0">x</em> and <em class="css-0">y</em>, using <strong class="css-0">Dijkstra&#x27;s algorithm</strong>.</p><p class="css-zitybv">Fill in the class <strong class="css-0">Dijkstra</strong> with following methods:</p><ul class="css-0"><li class="css-0">constructor <strong class="css-0">Dijkstra(int n)</strong>, the amount of cities is given to the constructor</li><li class="css-0"><strong class="css-0">void AddRoad(int a, int b, int d)</strong>: Adds a road between cities a and b, with the distance d</li><li class="css-0"><strong class="css-0">int Calculate(int x, int y)</strong> returns the shortest distance from city x to city y (or -1, if there is no connection).</li></ul><p class="css-zitybv">Example code:</p><pre class="language-cpp prism-code language-cpp css-1itelf7"><div class="token-line"><span class="token plain">Dijkstra d </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token function">Dijkstra</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">d</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">d</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">d</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">d</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">d</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">Console</span><span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token plain">d</span><span class="token punctuation">.</span><span class="token function">Calculate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 12</span></div></pre><div><h4 class="css-hr8tuu e1fnhg2h0">Submission Instructions</h4></div><div><h4 class="css-hr8tuu e1fnhg2h0">How to see the solution</h4></div></div><div class="css-kelymf e1fnhg2h4"><div class="css-a9243c e1fnhg2h3">003 Floyd-Warshall</div><p class="css-zitybv">In a Bitworld there are <em class="css-0">n</em> cities, numbered <em class="css-0">1,2,...,n</em>. There are two-way streets between those cities, with certain lengths. Your task is to find out the <em class="css-0">shortest distance</em> between cities <em class="css-0">x</em> and <em class="css-0">y</em>, using <strong class="css-0">Floyd-Warshall</strong>.</p><p class="css-zitybv">Fill in the class <strong class="css-0">FloydWarshall</strong> with following methods:</p><ul class="css-0"><li class="css-0">constructor <strong class="css-0">FloydWarshall(int n)</strong>, the amount of cities is given to the constructor</li><li class="css-0"><strong class="css-0">void AddRoad(int a, int b, int d)</strong>: Adds a road between cities a and b, with the distance d</li><li class="css-0"><strong class="css-0">int Calculate(int x, int y)</strong> returns the shortest distance from city x to city y (or -1, if there is no connection).</li></ul><p class="css-zitybv">Example code:</p><pre class="language-cpp prism-code language-cpp css-1itelf7"><div class="token-line"><span class="token plain">FloydWarshall fw </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token function">FloydWarshall</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">fw</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">fw</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">fw</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">fw</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">fw</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">Console</span><span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token plain">fw</span><span class="token punctuation">.</span><span class="token function">Calculate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 12</span></div></pre><div><h4 class="css-hr8tuu e1fnhg2h0">Submission Instructions</h4></div><div><h4 class="css-hr8tuu e1fnhg2h0">How to see the solution</h4></div></div><div class="css-u6bwnn e1fnhg2h2"><div class="css-x2hccj e1fnhg2h1">Note!</div>Next exercise is worth double points, 4 in total.</div><div class="css-kelymf e1fnhg2h4"><div class="css-a9243c e1fnhg2h3">004 Shortest paths</div><p class="css-zitybv">In a Bitworld there are <em class="css-0">n</em> cities, numbered <em class="css-0">1,2,...,n</em>. There are two-way streets between those cities, with certain lengths. Your task is to find out the <em class="css-0">shortest route</em> between cities <em class="css-0">x</em> and <em class="css-0">y</em>. You can use any algorithm of your choosing.</p><p class="css-zitybv">Fill in the class <strong class="css-0">ShortestPath</strong> with following methods:</p><ul class="css-0"><li class="css-0">constructor <strong class="css-0">ShortestPath(int n)</strong>, the amount of cities is given to the constructor</li><li class="css-0"><strong class="css-0">void AddRoad(int a, int b, int d)</strong>: Adds a road between cities a and b, with the distance d</li><li class="css-0"><strong class="css-0">List&lt;int<!-- -->&gt;<!-- --> Create(int x, int y)</strong> returns the shortest route from city x to city y as a list of cities.</li></ul><div class="css-u6bwnn e1fnhg2h2"><div class="css-x2hccj e1fnhg2h1">Note!</div>You can assume there is always a route between the x and y that are given to Create.</div><p class="css-zitybv">Example code:</p><pre class="language-cpp prism-code language-cpp css-1itelf7"><div class="token-line"><span class="token plain">ShortestPath s </span><span class="token operator">=</span><span class="token plain"> </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token function">ShortestPath</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">s</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">s</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">s</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">s</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">s</span><span class="token punctuation">.</span><span class="token function">AddRoad</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">s</span><span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token plain">Console</span><span class="token punctuation">.</span><span class="token plain">Write</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 1245 </span><span class="token plain"></span></div><div class="token-line"><span class="token plain">Console</span><span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">s</span><span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token plain">Console</span><span class="token punctuation">.</span><span class="token plain">Write</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 12 </span><span class="token plain"></span></div><div class="token-line"><span class="token plain">Console</span><span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">s</span><span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token plain">Console</span><span class="token punctuation">.</span><span class="token plain">Write</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 124 </span><span class="token plain"></span></div><div class="token-line"><span class="token plain">Console</span><span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">s</span><span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token plain">Console</span><span class="token punctuation">.</span><span class="token plain">Write</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><span class="token comment">// 421 </span><span class="token plain"></span></div><div class="token-line"><span class="token plain">Console</span><span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre><div><h4 class="css-hr8tuu e1fnhg2h0">Submission Instructions</h4></div><div><h4 class="css-hr8tuu e1fnhg2h0">How to see the solution</h4></div></div></main></div><style data-emotion="css 7oi17p">.css-7oi17p{display:none;-webkit-flex:0 0 16rem;-ms-flex:0 0 16rem;flex:0 0 16rem;font-size:0.75rem;font-weight:600;}@media (min-width: 56.36842105263158em){.css-7oi17p{display:block;}}</style><aside class="css-7oi17p e18xy85f4"><style data-emotion="css dxzn2c">.css-dxzn2c{position:fixed;top:0;bottom:0;overflow-x:hidden;overflow-y:auto;width:16rem;height:100%;padding:7rem 1rem 0;}</style><nav class="css-dxzn2c e18xy85f3"><style data-emotion="css 1w6ve1a">.css-1w6ve1a{margin-top:0;font-size:0.7rem;font-weight:700;text-transform:uppercase;}</style><p class="css-1w6ve1a e18xy85f2">Contents</p><style data-emotion="css evawql">.css-evawql{margin:0;padding:0;list-style:none;}.css-evawql ul{margin:0;padding:0;list-style:none;}</style><ul class="css-evawql e18xy85f1"><style data-emotion="css 1uvgd5">.css-1uvgd5{margin:0.3rem 0;}</style><li class="css-1uvgd5 e18xy85f0"><style data-emotion="css 1j0udpt">.css-1j0udpt{display:inline-block;padding:0.2rem 0;width:100%;color:var(--theme-ui-colors-text);-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out;}.css-1j0udpt:hover,.css-1j0udpt:focus{color:var(--theme-ui-colors-primary);}</style><a href="/algo-and-data/part6#shortest-paths-in-graphs" class="css-1j0udpt e1r4v4s10">Shortest paths in graphs</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/algo-and-data/part6#bellman-ford-algorithm" class="css-1j0udpt e1r4v4s10">Bellman-Ford algorithm</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/algo-and-data/part6#analysing-the-algorithm" class="css-1j0udpt e1r4v4s10">Analysing the algorithm</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/algo-and-data/part6#dijkstras-algorithm" class="css-1j0udpt e1r4v4s10">Dijkstra&#x27;s algorithm</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/algo-and-data/part6#analysing-the-algorithm-1" class="css-1j0udpt e1r4v4s10">Analysing the algorithm</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/algo-and-data/part6#example-trip-planner" class="css-1j0udpt e1r4v4s10">Example: Trip planner</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/algo-and-data/part6#floyd-warshall-algorithm" class="css-1j0udpt e1r4v4s10">Floyd-Warshall algorithm</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/algo-and-data/part6#analysing-the-algorithm-2" class="css-1j0udpt e1r4v4s10">Analysing the algorithm</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/algo-and-data/part6#comparing-the-algorithms" class="css-1j0udpt e1r4v4s10">Comparing the algorithms</a></li><li class="css-1uvgd5 e18xy85f0"><a href="/algo-and-data/part6#exercises" class="css-1j0udpt e1r4v4s10">Exercises</a></li></ul></nav></aside><style data-emotion="css jl45xv">.css-jl45xv{text-align:center;position:absolute;bottom:0;width:100%;height:6rem;padding-top:10px;font-size:1rem;background:var(--theme-ui-colors-footer);color:var(--theme-ui-colors-text);}.css-jl45xv a{-webkit-text-decoration:none;text-decoration:none;color:var(--theme-ui-colors-background);}</style><footer class="css-jl45xv e1krdi8y0"><p>© <!-- -->2022<!-- -->, Built with<a href="https://web.centria.fi/"> Centria</a></p><p>More information about <a href="/algo-and-data/license">License</a></p></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/part6";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-fd41d3bba3dba0c60639.js"],"app":["/app-35fa2ba5be107b8d8660.js"],"component---src-pages-404-js":["/component---src-pages-404-js-f3579335bd90ebeb24f2.js"],"component---src-templates-docs-js":["/component---src-templates-docs-js-ff24809891b3e127036d.js"]};/*]]>*/</script><script src="/algo-and-data/polyfill-fd41d3bba3dba0c60639.js" nomodule=""></script><script src="/algo-and-data/component---src-templates-docs-js-ff24809891b3e127036d.js" async=""></script><script src="/algo-and-data/commons-8f6820786aaec88a1b86.js" async=""></script><script src="/algo-and-data/app-35fa2ba5be107b8d8660.js" async=""></script><script src="/algo-and-data/framework-c49643cdc45c711b03f2.js" async=""></script><script src="/algo-and-data/webpack-runtime-c0de96a266562e64840a.js" async=""></script></body></html>